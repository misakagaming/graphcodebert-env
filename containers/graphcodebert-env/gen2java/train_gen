SET loc dont_change_return_codes 1_ok TO 1
USE cyyy9051_cmpnt_identifiers_get WHICH EXPORTS: Work View loc_imp_error iyy1_component FROM Work View exp_identifiers iyy1_component Work View loc_error iyy1_component FROM Work View exp_error iyy1_component
+->IF loc_error iyy1_component return_code < loc dont_change_return_codes 1_ok !  MOVE loc_error iyy1_component TO loc_imp_error iyy1_component +--
+->IF loc_error_msg iyy1_component severity_code <= SPACES !  SET loc_error_msg iyy1_component severity_code TO loc_imp_error iyy1_component severity_code +--
+->IF loc_imp_error iyy1_component return_code < loc dont_change_return_codes 1_ok !  SET loc_imp_error iyy1_component severity_code TO "E" !  SET loc_error_msg iyy1_component severity_code TO loc_imp_error iyy1_component severity_code +--
+->IF exp_error iyy1_component return_code < loc dont_change_return_codes 1_ok !  EXIT STATE IS std_return_rb WITH ROLLBACK +> ELSE !  EXIT STATE IS std_return +--
SET exp_reference iyy1_server_data server_date TO datetimestamp(exp_reference iyy1_server_data server_timestamp)
SET exp_reference iyy1_server_data server_time TO timetimestamp(exp_reference iyy1_server_data server_timestamp)
SET exp_reference iyy1_server_data reference_id TO exp_reference iyy1_server_data server_timestamp
USE cyyy9001_exception_hndlng_dflt WHICH EXPORTS: Work View exp_error iyy1_component FROM Work View exp_error iyy1_component
SET loc dont_change_return_codes n1120_invalid_command TO -1120
SET loc dont_change_reason_codes 1_default TO 1
SET loc_g_context dont_change_text text_150 TO "CYY1S011"
SET SUBSCRIPT OF loc_group_context TO 2
SET loc_g_context dont_change_text text_150 TO imp_command iyy1_component send_command
MOVE loc_reference iyy1_server_data TO exp_reference iyy1_server_data
USE isc1z021_o_authorization_check_s WHICH IMPORTS: Entity View imp isc1_authorization_info TO Entity View imp isc1_authorization_info Group View  imp_group_trans TO Group View imp_group_trans WHICH EXPORTS: Entity View exp isc1_authorization_info FROM Entity View exp isc1_authorization_info Work View loc_error isc1_component FROM Work View exp_error isc1_component
+->IF loc_error isc1_component return_code < 1 USE cyyy9831_mv_sc1_to_yy1 WHICH IMPORTS: Work View loc_error isc1_component TO Work View imp_error isc1_component WHICH EXPORTS: Work  +--
USE cyy1a121_server_termination WHICH IMPORTS: Work View exp_error iyy1_component TO Work View imp_error iyy1_component Work View imp_dialect iyy1_component TO Work View imp_dialect  WHICH EXPORTS: Work View exp_msg iyy1_component FROM Work View exp_error_msg iyy1_component Work View exp_error iyy1_component FROM Work View exp_error iyy1_component
SET loc dont_change_return_codes n1120_invalid_command TO -1120
SET loc dont_change_reason_codes 1_default TO 1
SET SUBSCRIPT OF loc_group_context TO 1
SET loc_g_context dont_change_text text_150 TO "CYY1S021"
SET SUBSCRIPT OF loc_group_context TO 2
SET loc_g_context dont_change_text text_150 TO imp_command iyy1_component send_command
USE cyy1a131_server_init WHICH EXPORTS: Work View loc_reference iyy1_server_data FROM Work View exp_reference iyy1_server_data
MOVE loc_reference iyy1_server_data TO exp_reference iyy1_server_data
USE isc1z021_o_authorization_check_s WHICH IMPORTS: Entity View imp isc1_authorization_info TO Entity View imp isc1_authorization_info Group View  imp_group_trans TO Group View imp_group_trans WHICH EXPORTS: Work View loc_error isc1_component FROM Work View exp_error isc1_component Entity View exp isc1_authorization_info FROM Entity View exp isc1_authorization_info
+->IF loc_error isc1_component return_code < 1 !  USE cyyy9831_mv_sc1_to_yy1 !     WHICH IMPORTS: Work View loc_error isc1_component TO Work View imp_error isc1_component !     WHICH EXPORTS: Work View exp_error iyy1_component FROM Work View exp_error iyy1_component +--
USE cyy1a121_server_termination WHICH IMPORTS: Work View exp_error iyy1_component TO Work View imp_error iyy1_component Work View imp_dialect iyy1_component TO Work View imp_dialect iyy1_component WHICH EXPORTS: Work View exp_msg iyy1_component FROM Work View exp_error_msg iyy1_component Work View exp_error iyy1_component FROM Work View exp_error iyy1_component
USE cyyy9001_exception_hndlng_dflt  WHICH EXPORTS: Work View exp_error iyy1_component FROM Work View exp_error iyy1_component
SET SUBSCRIPT OF loc_group_context TO 1
SET loc_g_context dont_change_text text_150 TO "CYYY0111"
SET SUBSCRIPT OF loc_group_context TO 2
SET loc_g_context dont_change_text text_150 TO "CREATE"
SET loc dont_change_return_codes 1_ok TO 1
SET loc dont_change_reason_codes 1_default TO 1
SET loc dont_change_reason_codes 104_parent_type_key_attr_mand TO 104
SET loc dont_change_reason_codes 105_parent_key_attr_mand TO 105
SET loc dont_change_reason_codes 106_parent_search_attr_mand TO 106
MOVE imp parent TO loc_imp parent
USE cyyy0161_parent_instance_id_gen WHICH EXPORTS: Entity View loc_imp parent FROM Entity View exp parent
USE cyyy9001_exception_hndlng_dflt WHICH EXPORTS: Work View exp_error iyy1_component FROM Work View exp_error iyy1_component
SET loc dont_change_return_codes 1_ok TO 1
SET loc dont_change_return_codes n1110_unauthorized_operation TO -1110
SET loc dont_change_return_codes n1120_invalid_command TO -1120
SET loc dont_change_reason_codes 1_default TO 1
SET SUBSCRIPT OF loc_group_context TO 1
SET SUBSCRIPT OF loc_group_context TO 2
SET loc_g_context dont_change_text text_150 TO imp_command iyy1_component send_command
USE cyy1a131_server_init WHICH EXPORTS: Work View loc_reference iyy1_server_data FROM Work View exp_reference iyy1_server_data
MOVE loc_reference iyy1_server_data TO exp_reference iyy1_server_data
+->IF loc_error isc1_component return_code < loc dont_change_return_codes 1_ok  !  USE cyyy9831_mv_sc1_to_yy1 WHICH IMPORTS: Work View loc_error isc1_component TO Work View imp_error isc1_component WHICH EXPORTS: Work View exp_error iyy1_component FROM Work View exp_error iyy1_component +--
+->IF exp_error iyy1_component return_code = loc dont_change_return_codes 1_ok  !  SET loc_reference iyy1_server_data userid TO imp isc1_authorization_info userid  !  +->CASE OF imp_command iyy1_component send_command  !  +> CASE "INIT"  !  +> CASE "CREATE"  !  !  +->IF exp isc1_authorization_info authority_status_u ^= "Y"  !  !  !  SET exp_error iyy1_component return_code TO loc dont_change_return_codes n1110_unauthorized_operation  !  !  !  SET exp_error iyy1_component reason_code TO loc dont_change_reason_codes 1_default  !  !  !  SET SUBSCRIPT OF loc_group_context TO 3  !  !  !  SET loc_g_context dont_change_text text_150 TO CLIENT_USER_ID  !  !  +--  !  +> CASE "READ"  !  !  +->IF exp isc1_authorization_info authority_status_r ^= "Y"  !  !  !  SET exp_error iyy1_component return_code TO loc dont_change_return_codes n1110_unauthorized_operation  !  !  !  SET exp_error iyy1_component reason_code TO loc dont_change_reason_codes 1_default  !  !  !  SET SUBSCRIPT OF loc_group_context TO 3  !  !  !  SET loc_g_context dont_change_text text_150 TO CLIENT_USER_ID  !  !  +--  !  +> CASE "UPDATE"  !  !  +->IF exp isc1_authorization_info authority_status_u ^= "Y"  !  !  !  SET exp_error iyy1_component return_code TO loc dont_change_return_codes n1110_unauthorized_operation  !  !  !  SET exp_error iyy1_component reason_code TO loc dont_change_reason_codes 1_default  !  !  !  SET SUBSCRIPT OF loc_group_context TO 3  !  !  !  SET loc_g_context dont_change_text text_150 TO CLIENT_USER_ID  !  !  +--  !  +> CASE "DELETE"  !  !  +->IF exp isc1_authorization_info authority_status_d ^= "Y"  !  !  !  SET exp_error iyy1_component return_code TO loc dont_change_return_codes n1110_unauthorized_operation  !  !  !  SET exp_error iyy1_component reason_code TO loc dont_change_reason_codes 1_default  !  !  !  SET SUBSCRIPT OF loc_group_context TO 3  !  !  !  SET loc_g_context dont_change_text text_150 TO CLIENT_USER_ID  !  !  +--  !  +> OTHERWISE  !  !  SET exp_error iyy1_component return_code TO loc dont_change_return_codes n1120_invalid_command  !  !  SET exp_error iyy1_component reason_code TO loc dont_change_reason_codes 1_default  !  !  SET SUBSCRIPT OF loc_group_context TO 3  !  !  SET loc_g_context dont_change_text text_150 TO imp_command iyy1_component send_command   !  +--   !  USE cyyy9141_context_string_set WHICH IMPORTS: Group View  loc_group_context TO Group View imp_group_context WHICH EXPORTS: Work View loc_error iyy1_component FROM Work View exp_error iyy1_component Work View loc_context iyy1_component FROM Work View exp_context iyy1_component  !  +->IF loc_error iyy1_component return_code < loc dont_change_return_codes 1_ok  !  !  MOVE loc_error iyy1_component TO exp_error iyy1_component  !  +> ELSE   !  !  SET exp_error iyy1_component context_string TO loc_context iyy1_component context_string   !  +--   +--
USE cyy1a121_server_termination WHICH IMPORTS: Work View exp_error iyy1_component TO Work View imp_error iyy1_component Work View imp_dialect iyy1_component TO Work View imp_dialect iyy1_component WHICH EXPORTS: Work View exp_msg iyy1_component FROM Work View exp_error_msg iyy1_component Work View exp_error iyy1_component FROM Work View exp_error iyy1_component
+->IF exp_error iyy1_component return_code = loc dont_change_return_codes 1_ok  !  SET loc_reference iyy1_server_data userid TO imp isc1_authorization_info userid  !  +->CASE OF imp_command iyy1_component send_command  !  +> CASE "INIT"  !  +> CASE "LIST"  !  !  +->IF exp isc1_authorization_info authority_status_l ^= "Y"  !  !  !  SET exp_error iyy1_component return_code TO loc dont_change_return_codes n1110_unauthorized_operation  !  !  !  SET exp_error iyy1_component reason_code TO loc dont_change_reason_codes 1_default  !  !  !  SET SUBSCRIPT OF loc_group_context TO 3  !  !  !  SET loc_g_context dont_change_text text_150 TO CLIENT_USER_ID  !  !  +--  !  +> OTHERWISE  !  !  SET exp_error iyy1_component return_code TO loc dont_change_return_codes n1120_invalid_command  !  !  SET exp_error iyy1_component reason_code TO loc dont_change_reason_codes 1_default  !  !  SET SUBSCRIPT OF loc_group_context TO 3  !  !  SET loc_g_context dont_change_text text_150 TO imp_command iyy1_component send_command  !  +--  !  USE cyyy9141_context_string_set WHICH IMPORTS: Group View  loc_group_context TO Group View imp_group_context WHICH EXPORTS: Work View loc_error iyy1_component FROM Work View exp_error iyy1_component Work View loc_context iyy1_component FROM Work View exp_context iyy1_component  !  +->IF loc_error iyy1_component return_code < loc dont_change_return_codes 1_ok  !  !  MOVE loc_error iyy1_component TO exp_error iyy1_component  !  +> ELSE  !  !  SET exp_error iyy1_component context_string TO loc_context iyy1_component context_string  !  +--   +--
USE cyy1a131_server_init WHICH EXPORTS: Work View loc_reference iyy1_server_data FROM Work View exp_reference iyy1_server_data
SET exp_reference iyy1_server_data server_timestamp TO CURRENT_TIMESTAMP
SET loc dont_change_return_codes n20_mandatory_import_missing TO -20





